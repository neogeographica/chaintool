.. _header_section:

chaintool: a tool to chain tools into toolchains
===============================================================

.. image:: http://img.shields.io/pypi/v/chaintool.svg
    :target: https://pypi.python.org/pypi/chaintool
    :alt: current version

.. image:: https://img.shields.io/pypi/pyversions/chaintool.svg
    :target: https://www.python.org/
    :alt: supported Python versions

.. _blurb_section:

.. include:: docs/blurb.txt

.. _prerequisites_section:

Prerequisites
-------------

Python 3.7 or later is required.

There are no other absolute requirements, but there are some prerequisites that are helpful for autocompletion of command-line arguments:

First, the bash shell is required for the autocompletion feature to work at all. Some other shells may be able to make use of bash autocompletions through a compatibility feature (e.g. ``bashcompinit`` in zsh) but that is untested.

Having a *recent* version of bash also helps to avoid a couple of annoying issues:

- If you don't have bash 5 or later, double-quoting a placeholder value on the command line will break autocompletions for all subsequent arguments.
- If you don't have bash 4 or later, the lack of the "compopt" builtin will cause filename completions for directory paths (e.g. when composing the file argument to import/export) to be awkward... you'll get a trailing space instead of a trailing slash.

If you need to update bash, the process will be specific to your platform and package manager. FYI macOS is likely to have an extremely old version of bash by default; for updating bash on macOS, one approach is to `use the homebrew package manager`_.

Finally, the ``bash-completion`` package (version 2.2 or later) is a nice-to-have. This package does not enable the basic autocompletion feature -- that's intrinsically part of the bash shell -- but it builds on it. If that package is present, chaintool can use it to allow autocompletions to be enabled immediately for a newly created "shortcut" script, without requiring you to open a new shell.

You can use your package manager to check whether you have bash-completion installed (and which version). Also if you use "chaintool x completions" to interactively configure the completions feature, it can walk you through a method of checking whether a recent-enough version of the bash-completion package is installed and in use by your shell.

.. _use the homebrew package manager: https://itnext.io/upgrading-bash-on-macos-7138bd1066ba

.. _installation_section:

Installation
------------

The latest version of chaintool (hosted at the `Python Package Index`_, PyPI) can be installed via Python's ``pip`` package manager:

.. code-block:: none

    python3 -m pip install chaintool

Similarly, an existing chaintool installation can be updated to the latest version:

.. code-block:: none

    python3 -m pip install --upgrade chaintool

An alternative to installing from PyPI is to install chaintool directly from GitHub. For example the following command would install the version of chaintool currently on the main branch:

.. code-block:: none

    python3 -m pip install git+https://github.com/neogeographica/chaintool

.. _Python Package Index: https://pypi.org/project/chaintool

.. _configuration_section:

Configuration
-------------

Once chaintool has been installed, it can help you configure your shell environment to enable support for shortcuts and autocompletions... in most cases it is able to do this setup automatically for you.

The documentation goes into this in more detail, but running "chaintool x completions" will get you into an interactive process for setting up the autocompletions feature, and "chaintool x shortcuts" is a similar helper for the shortcuts feature.

Depending on your configuration, you may need to start a new shell for these features to be available.

.. _documentation_section:

.. include:: docs/rtdlinks.txt
